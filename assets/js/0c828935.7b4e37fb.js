(self.webpackChunktemp=self.webpackChunktemp||[]).push([[543],{41018:(e,t,n)=>{"use strict";n.d(t,{ek:()=>I,Bj:()=>U,ZU:()=>L});var s=n(96540);let r=function(e){return e.DATASET="dataset",e.MODEL="model",e.TASK="task",e}({});var a=n(46190),i=n(35124),l=n(2825),o=n(52532),c=n(35660),d=n(72099);function u(e,t,n,s){if(!(t in e))throw new Error(`Key ${t} not found in data`);const{children:r,...a}=e[t],i={...a,children:{}};for(const l of r)if(l in n)i.children[l]=n[l],delete n[l];else{if(!(l in e))throw new Error(`Child key ${l} not found in data`);i.children[l]=u(e,l,n,s),s.add(l)}return s.add(t),i}var h=n(32673),x=n(45283),f=n(15548),m=n(37754),j=n(71835),p=n(28364),A=n(94078),g=n(41096),b=n(39836),v=n(98099),S=n(88629),w=n(41806),y=n(76520),D=n.n(y),E=n(87968),k=n(6939),$=n(74848);function M({name:e,github_username:t}){const n=`https://github.com/${t}`,s=`${n}.png?size=256`;return(0,$.jsx)(E.A,{avatar:(0,$.jsx)(k.A,{alt:e,src:s}),label:`${e} (${t})`,sx:{mr:1,mb:1},component:"a",href:n,target:"_blank",clickable:!0})}const T=({title:e,subtitle:t,abstract:n})=>(0,$.jsxs)(h.A,{mb:3,children:[(0,$.jsx)(i.A,{variant:"h3",children:e}),t&&(0,$.jsx)(i.A,{variant:"subtitle1",color:"textSecondary",children:t}),n&&(0,$.jsx)(i.A,{variant:"body1",sx:{mt:2},children:n}),(0,$.jsx)(f.A,{sx:{my:3}})]}),_=({content:e})=>e&&(0,$.jsx)(h.A,{mb:3,children:(0,$.jsx)(D(),{children:e})}),F=({contacts:e})=>e&&e.length>0&&(0,$.jsxs)(h.A,{mb:3,children:[(0,$.jsx)(i.A,{variant:"h5",children:"Contacts"}),e.map(((e,t)=>(0,$.jsx)(M,{name:e.name,github_username:e.github_username},t)))]}),C=({links:e})=>e&&e.length>0&&(0,$.jsxs)(h.A,{mb:3,children:[(0,$.jsx)(i.A,{variant:"h5",children:"External Links"}),(0,$.jsx)("ul",{children:e.map(((e,t)=>(0,$.jsx)("li",{children:(0,$.jsx)(m.A,{href:e,target:"_blank",rel:"noopener noreferrer",children:e})},t)))})]});function O({refs:e}){const[t,n]=(0,s.useState)(!1);return(0,$.jsxs)(j.A,{children:[(0,$.jsx)(p.A,{expandIcon:(0,$.jsx)(S.A,{}),children:(0,$.jsx)(i.A,{children:"Citation (BibTeX)"})}),(0,$.jsx)(A.A,{children:(0,$.jsxs)(g.A,{variant:"outlined",sx:{p:2,position:"relative"},children:[(0,$.jsx)(b.A,{title:t?"Copied!":"Copy",children:(0,$.jsx)(v.A,{sx:{position:"absolute",top:8,right:8},onClick:()=>{navigator.clipboard.writeText(e),n(!0),setTimeout((()=>n(!1)),1500)},children:(0,$.jsx)(w.A,{})})}),(0,$.jsx)(h.A,{component:"pre",sx:{whiteSpace:"pre-wrap"},children:e})]})})]})}function V({requirements:e}){return(0,$.jsxs)(h.A,{mb:3,children:[(0,$.jsx)(i.A,{variant:"h5",children:"Pip Requirements"}),(0,$.jsx)(h.A,{component:"pre",sx:{backgroundColor:"#f5f5f5",p:2,overflowX:"auto"},children:e.map(((e,t)=>(0,$.jsx)(i.A,{variant:"body2",children:e},t)))})]})}var N=n(48287),z=n(75232),B=n.n(z);function W({name:e,data:t,type:n}){const[i,l]=(0,s.useState)([]),[o,c]=(0,s.useState)(!0);let u=null,f=null,m=null;switch(n){case r.DATASET:u=e,f=null,m=null;break;case r.TASK:u=null,f=e,m=null;break;case r.MODEL:u=null,f=null,m=e}(0,s.useEffect)((()=>{(async function(e=null,t=null,n=null){let s=await(0,d.p)();return e&&(s=s.filter((t=>t.dataset===e))),t&&(s=s.filter((e=>e.task===t))),n&&(s=s.filter((e=>e.model===n))),s})(u,f,m).then(l).finally((()=>{c(!1)}))}),[u,f,m]);const{readme:j,refs:p,requirements:A}=t,{metadata:g={}}=t.entity||{},{title:b,content:v}=function(e,t){if(!e)return{title:t,content:""};const{content:n}=B()(e),s=n.split("\n");let r=t;const a=[];let i=!1;for(const l of s){const e=l.match(/^#\s+(.*)/);!e||i?a.push(l):(r=e[1].trim(),i=!0)}return{title:r,content:a.map((e=>e.replace(/^(#{1,5})\s/g,((e,t)=>`${t}# `)))).join("\n").trim()}}(j||"",e),S=b!==e?e:null;return(0,$.jsxs)(h.A,{sx:{maxWidth:1e3,mx:"auto"},children:[(0,$.jsx)(T,{title:b,subtitle:S,abstract:g.description}),(0,$.jsx)(_,{content:v}),(0,$.jsx)(C,{links:g.links||[]}),(0,$.jsx)(F,{contacts:g.contacts||[]}),A&&A.length>0&&(0,$.jsx)(V,{requirements:A}),p&&(0,$.jsx)(O,{refs:p}),o&&(0,$.jsx)(a.A,{}),!o&&i&&i.length>0&&(0,$.jsx)(h.A,{mt:5,children:(0,$.jsx)(x.A,{[`${n}Filter`]:e})})]})}function q({target:e}){const[t,n]=(0,s.useState)(null),[r,h]=(0,s.useState)(null),[x,f]=(0,s.useState)(!0),[m,j]=(0,s.useState)(null);(0,s.useEffect)((()=>{(0,d.S)(e).then((e=>{e&&(h(e),n(function(e){const t={},n=new Set;for(const s of Object.keys(e))n.has(s)||(t[s]=u(e,s,t,n));return t}(e)))})).finally((()=>{f(!1)}))}),[e]);if(x)return(0,$.jsx)(a.A,{});if(!t||!r)return(0,$.jsxs)(i.A,{children:["No ",e," entities found."]});const p=(e,t)=>(0,$.jsx)(o.yh,{itemId:e,label:e,children:t.children&&Object.entries(t.children).map((([e,t])=>p(e,t)))},e);return(0,$.jsxs)(l.A,{container:!0,spacing:2,children:[(0,$.jsxs)(l.A,{size:3,children:[(0,$.jsx)(i.A,{variant:"h5",gutterBottom:!0,children:e}),(0,$.jsx)(c.G,{onItemSelectionToggle:(e,t,n)=>{j(n?t:null)},children:Object.entries(t).map((([e,t])=>p(e,t)))})]}),(0,$.jsx)(l.A,{size:9,children:m&&r[m]?(0,$.jsx)(W,{name:m,data:r[m].data,type:e}):(0,$.jsx)(i.A,{variant:"h6",children:m?"Select a valid entity.":"Select an entity from the tree."})})]})}function I(){return(0,$.jsx)(q,{target:r.DATASET})}function L(){return(0,$.jsx)(q,{target:r.TASK})}function U(){return(0,$.jsx)(q,{target:r.MODEL})}"undefined"==typeof window||window.Buffer||(window.Buffer=N.hp)},45283:(e,t,n)=>{"use strict";n.d(t,{A:()=>j});var s=n(96540),r=n(46190),a=n(35124),i=n(77988),l=n(35107),o=n(14959),c=n(45587),d=n(78478),u=n(72099),h=n(38193),x=n(74848);function f(e){const[t,a]=(0,s.useState)(null);return(0,s.useEffect)((()=>{h.A.canUseDOM&&n.e(236).then(n.bind(n,91236)).then((e=>{a((()=>e.default))}))}),[]),t?(0,x.jsx)(t,{...e}):(0,x.jsx)(r.A,{})}function m({datasetFilter:e,modelFilter:t,taskFilter:n}){const[d,h]=(0,s.useState)([]),[m,j]=(0,s.useState)(!0),[p,A]=(0,s.useState)(e||""),[g,b]=(0,s.useState)(n||""),[v,S]=(0,s.useState)(t||""),[w,y]=(0,s.useState)("samples_equally_weighted");if((0,s.useEffect)((()=>{(0,u.p)().then(h).finally((()=>{j(!1)}))}),[]),m)return(0,x.jsx)(r.A,{});console.log("Loaded results:",d);const D=[...new Set(d.map((e=>e.dataset)))].sort();console.log("All datasets:",D);const E=p?d.filter((e=>e.dataset===p)):d,k=[...new Set(E.map((e=>e.task)))].sort();console.log("All tasks:",k);const $=g?E.filter((e=>e.task===g)):E,M=[...new Set($.map((e=>e.model)))].sort();console.log("All models:",M);const T=(v?$.filter((e=>e.model===v)):$).map((e=>{const t=e.result?.[w]||{};return{x:["ROC AUC","Avg Precision","F1 Score"],y:[t.roc_auc_score??0,t.average_precision_score??0,t.f1_score??0],type:"bar",name:e.model,hovertext:`Issue: ${e.id}<br>Dataset: ${e.dataset}<br>Task: ${e.task}<br>Model: ${e.model}<br>Version: ${e.version}<br>${w}`}}));return(0,x.jsxs)("div",{children:[(0,x.jsx)(a.A,{variant:"h4",gutterBottom:!0,children:"MEDS-DEV Benchmark Leaderboard"}),(0,x.jsxs)("div",{style:{display:"flex",gap:"1rem",marginBottom:"1.5rem",flexWrap:"wrap"},children:[(0,x.jsxs)(i.A,{size:"small",sx:{minWidth:200},children:[(0,x.jsx)(l.A,{children:"Dataset"}),(0,x.jsxs)(o.A,{value:p,label:"Dataset",onChange:e=>{A(e.target.value),b("")},children:[(0,x.jsx)(c.A,{value:"",children:(0,x.jsx)("em",{children:"All"})}),D.map((e=>(0,x.jsx)(c.A,{value:e,children:e},e)))]})]}),(0,x.jsxs)(i.A,{size:"small",sx:{minWidth:300},children:[(0,x.jsx)(l.A,{children:"Task"}),(0,x.jsxs)(o.A,{value:g,label:"Task",onChange:e=>b(e.target.value),children:[(0,x.jsx)(c.A,{value:"",children:(0,x.jsx)("em",{children:"All"})}),k.map((e=>(0,x.jsx)(c.A,{value:e,children:e},e)))]})]}),(0,x.jsxs)(i.A,{size:"small",sx:{minWidth:300},children:[(0,x.jsx)(l.A,{children:"Model"}),(0,x.jsxs)(o.A,{value:v,label:"Model",onChange:e=>S(e.target.value),children:[(0,x.jsx)(c.A,{value:"",children:(0,x.jsx)("em",{children:"All"})}),M.map((e=>(0,x.jsx)(c.A,{value:e,children:e},e)))]})]}),(0,x.jsxs)(i.A,{size:"small",sx:{minWidth:250},children:[(0,x.jsx)(l.A,{children:"Metric Set"}),(0,x.jsxs)(o.A,{value:w,label:"Metric Set",onChange:e=>y(e.target.value),children:[(0,x.jsx)(c.A,{value:"samples_equally_weighted",children:"Samples Weighted"}),(0,x.jsx)(c.A,{value:"subjects_equally_weighted",children:"Subjects Weighted"})]})]})]}),(0,x.jsx)(f,{data:T,layout:{barmode:"group",title:{text:`Metric Scores${p?` for ${p}`:""}${g?` \u2013 ${g}`:""}`},xaxis:{title:{text:"Metric"}},yaxis:{title:{text:"Score"},range:[0,1]},autosize:!0},style:{width:"100%",height:"600px"},useResizeHandler:!0,config:{responsive:!0}})]})}function j({datasetFilter:e,modelFilter:t,taskFilter:n}){return(0,x.jsx)(d.A,{fallback:(0,x.jsx)("div",{children:"Loading client-side plot..."}),children:()=>(0,x.jsx)(m,{datasetFilter:e,modelFilter:t,taskFilter:n})})}},45403:()=>{},72099:(e,t,n)=>{"use strict";n.d(t,{S:()=>a,p:()=>i});var s=n(86056);const r="https://raw.githubusercontent.com/Medical-Event-Data-Standard/MEDS-DEV/_web";async function a(e){const t=`${r}/entities/${e}s.json`;return(0,s.Z)(t)}async function i(){const e=`${r}/results/all_results.json`,t=function(e){if("string"!=typeof e)return"object"==typeof e&&null!==e?e:(console.warn("Unexpected input type:",typeof e),null);{const n=e.replace(/\bNaN\b/g,"null");try{return JSON.parse(n)}catch(t){return console.error("Failed to parse JSON after NaN fix:",t),null}}}(await(0,s.Z)(e));if(!t)return[];const n=t,a=[];let i=0;for(const[s,r]of Object.entries(n)){if(!r)continue;const e={id:s,...r};if(console.log(`Processing entry ${s}:`,e),a.push(e),i++,i>100){console.warn("Processed 100 entries, stopping to avoid excessive output");break}}return console.log(`Total processed entries: ${i}`),a}},73748:(e,t,n)=>{"use strict";n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>o,default:()=>h,frontMatter:()=>l,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"MEDS-DEV/datasets","title":"datasets","description":"This is a work in progress. The content is subject to change as the project evolves. MEDS-DEV results, while","source":"@site/docs/MEDS-DEV/2_datasets.mdx","sourceDirName":"MEDS-DEV","slug":"/MEDS-DEV/datasets","permalink":"/docs/MEDS-DEV/datasets","draft":false,"unlisted":false,"editUrl":"https://github.com/Medical-Event-Data-Standard/medical-event-data-standard.github.io/tree/main/docs/docs/MEDS-DEV/2_datasets.mdx","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2},"sidebar":"medsDevSidebar","previous":{"title":"MEDS-DEV","permalink":"/docs/MEDS-DEV/intro"},"next":{"title":"tasks","permalink":"/docs/MEDS-DEV/tasks"}}');var r=n(74848),a=n(28453),i=n(41018);const l={sidebar_position:2},o=void 0,c={},d=[];function u(e){const t={admonition:"admonition",p:"p",...(0,a.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(t.admonition,{type:"warning",children:(0,r.jsx)(t.p,{children:"This is a work in progress. The content is subject to change as the project evolves. MEDS-DEV results, while\nin principle reproducible, are not yet finalized."})}),"\n",(0,r.jsx)(i.ek,{})]})}function h(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,r.jsx)(t,{...e,children:(0,r.jsx)(u,{...e})}):u(e)}},86056:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var s=n(94335);const r=9e5;async function a(e,t=null,n=r){const a=t||e,{data:i,isFresh:l}=function(e,t=r){const n=localStorage.getItem(e);if(!n)return{data:null,isFresh:!1};try{const{data:e,timestamp:s}=JSON.parse(n);return{data:e,isFresh:Date.now()-s<t}}catch(s){return console.warn(`Cache read for ${e} failed: ${s}. Clearing...`),localStorage.removeItem(e),{data:null,isFresh:!1}}}(a,n);if(l)return i;try{const t=await async function(e){try{return(await s.A.get(e)).data}catch(t){return console.error(`Failed to fetch data from ${e}:`,t),null}}(e);return localStorage.setItem(a,JSON.stringify({data:t,timestamp:Date.now()})),t}catch(o){if(console.warn(`Failed to fetch ${e}:`,o),i)return console.warn(`Using stale cached data for ${a}`),i;throw new Error(`Failed to fetch ${e} and no cached data available.`)}}}}]);